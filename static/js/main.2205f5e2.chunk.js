(this["webpackJsonpfrontend-challenge"]=this["webpackJsonpfrontend-challenge"]||[]).push([[0],{20:function(e){e.exports=JSON.parse('{"key":"3b8cb143","url":"https://www.omdbapi.com/"}')},51:function(e,t,n){},53:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),i=n.n(s),c=n(16),r=n.n(c),l=(n(50),n(51),n(33)),o=n(9),d=n.n(o),u=n(17),j=n(34),h=n(35),m=n(12),b=n(43),O=n(42),x=n(18),v=n(70),f=n(68),N=n(69),g=n(20),p=function(){var e=Object(u.a)(d.a.mark((function e(t,n){var a,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.url+"?apikey="+g.key+"&s="+t+"&page="+n+"&type=movie",e.next=3,fetch(a,{mode:"cors"});case 3:return s=e.sent,e.next=6,s.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.url+"?apikey="+g.key+"&i="+t+"&plot=full",e.next=3,fetch(n,{mode:"cors"});case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(24),D=n(14),k=n(11),w=n(64),C=n(65),I=(n(53),function(e){var t=Object(s.useState)(!1),n=Object(y.a)(t,2),i=n[0],c=n[1],r="N/A"!==e.data.Poster?null:Object(a.jsx)(x.a,{variant:"light",children:"No image for this title"}),l=e.isNominated||e.isFull?Object(a.jsxs)(k.a,{variant:e.isNominated?"warning":"secondary",className:"nominate",disabled:!0,children:[e.isNominated?"Nominated ":"Nominations full ",e.isNominated?Object(a.jsx)(w.a,{}):null]}):Object(a.jsxs)(k.a,{variant:"warning",className:"nominate",onClick:function(){return e.onNomination(e.data)},children:["Nominate ",Object(a.jsx)(C.a,{})]}),o=i?l:null;return Object(a.jsx)("div",{className:"listItem",onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},children:Object(a.jsxs)(D.a,{style:{width:"11rem",height:"26rem"},className:"listItemCard",onClick:function(){return e.onSelected(e.data.imdbID)},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(D.a.Img,{variant:"top",src:"N/A"!==e.data.Poster?e.data.Poster:null}),Object(a.jsx)("br",{}),o]}),Object(a.jsx)(D.a.Body,{className:"cardBody",children:Object(a.jsxs)("div",{className:"cardContent",children:[r,Object(a.jsx)(D.a.Title,{className:"cardTitle",children:e.data.Title}),Object(a.jsx)(x.a,{pill:!0,className:"year",variant:"info",children:e.data.Year})]})})]})})}),T=n(36),R=n.n(T),L=(n(57),function(e){var t=e.data,n=t.Genre.split(",").map((function(e){return Object(a.jsx)(x.a,{className:"genres",pill:!0,variant:"secondary",children:e},e)}))||null,s="N/A"!=t.Poster?Object(a.jsx)(D.a.Img,{variant:"left",src:t.Poster,className:"image"}):null,i="N/A"!=t.Year?Object(a.jsxs)("p",{className:"oneLineContent",children:[t.Year," -"]}):null,c="N/A"!=t.imdbRating?Object(a.jsxs)("p",{className:"oneLineContent",children:["IMDb ",t.imdbRating," -"]}):null,r="N/A"!=t.Runtime?Object(a.jsx)("p",{className:"oneLineContent",children:t.Runtime}):null,l="N/A"!=t.Awards?Object(a.jsxs)("p",{className:"otherDetails",children:["Awards: ",t.Awards]}):null,o="N/A"!=t.language?Object(a.jsxs)("p",{className:"otherDetails",children:["Language: ",t.Language," "]}):null;return Object(a.jsx)(D.a,{className:"infoCard",children:Object(a.jsxs)("div",{className:"flexBox",children:[Object(a.jsxs)("div",{className:"content",children:[Object(a.jsxs)("div",{className:"headerDiv",children:[Object(a.jsxs)("h1",{className:"title",children:[t.Title," "]}),Object(a.jsx)(k.a,{className:"nominateButton",onClick:function(){return e.onNomination(t)},variant:"warning",disabled:e.isNominated,children:e.isNominated?Object(a.jsx)(w.a,{size:34}):Object(a.jsx)(C.a,{size:34})})]}),Object(a.jsxs)("div",{className:"oneLine",children:[i,c,r]}),Object(a.jsx)("div",{children:n}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{className:"plot",children:t.Plot}),l,Object(a.jsxs)("p",{className:"otherDetails",children:["Directors: ",t.Director]}),Object(a.jsxs)("p",{className:"otherDetails",children:["Starring: ",t.Actors]}),o]}),s]})})}),B=n(28),A=(n(58),n(66)),P=n(67),M=function(e){return Object(a.jsx)(B.a.Item,{onClick:function(){return e.setSelected(e.movie.imdbID)},action:!0,children:Object(a.jsxs)("div",{className:"nominationItem",children:[Object(a.jsx)("h5",{className:"listInfo",children:e.movie.Title}),Object(a.jsx)(x.a,{pill:!0,variant:"info",className:"nominationBadge",children:e.movie.Year}),Object(a.jsx)(k.a,{onClick:function(){return e.onRemove()},variant:"outline-danger",className:"deleteButton",children:Object(a.jsx)(A.a,{size:30})})]})})},J=function(e){var t=Object.keys(e.nominations).length,n=Object.entries(e.nominations).map((function(t){var n=Object(y.a)(t,2),s=n[0],i=n[1];return Object(a.jsx)(M,{movie:i,onRemove:function(){return e.removeOne(s)},setSelected:e.setSelected},s)}));return Object(a.jsxs)(B.a,{className:"nominationsList",children:[Object(a.jsx)(B.a.Item,{children:Object(a.jsxs)("h5",{children:[Object(a.jsx)(C.a,{})," ",t,"/5 nominations ",Object(a.jsx)(C.a,{}),Object(a.jsx)(k.a,{onClick:function(){return e.onClear()},variant:"outline-danger",className:"deleteButton",children:Object(a.jsx)(P.a,{size:20})})]})}),n]})},F=n(37),Y=(n(59),function(){return Object(a.jsxs)("div",{className:"introDiv",children:[Object(a.jsx)("br",{}),Object(a.jsxs)(F.a,{className:"jumbo",children:[Object(a.jsx)("h1",{children:"Hi, welcome to the Shoppies!"}),Object(a.jsx)("p",{className:"description",children:"Start typing in the search bar to find movies to nominate. Click on a movie to see further details or click the Nominate button to add the movie to your nomination list."})]})]})}),z=n(27),H=n(38),E=(n(60),function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).state={searchTerm:i.a.createRef(),listData:[],filters:[],selectedItem:null,selectedData:null,page:1,maxPages:100,totalResults:null,showList:!1},a.handleLoadMore=a.handleLoadMore.bind(Object(m.a)(a)),a.onSelected=a.onSelected.bind(Object(m.a)(a)),a.addToNominatons=a.addToNominatons.bind(Object(m.a)(a)),a.onClear=a.onClear.bind(Object(m.a)(a)),a.removeSingle=a.removeSingle.bind(Object(m.a)(a)),a}return Object(h.a)(n,[{key:"onSearchChange",value:function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=this.state.searchTerm.current.value){e.next=4;break}this.setState({listData:[],totalResults:null}),e.next=8;break;case 4:return e.next=6,p(this.state.searchTerm.current.value,1);case 6:"True"===(t=e.sent).Response?(n=t.Search,a=Math.floor(parseInt(t.totalResults)/10)+1,this.setState({listData:n,page:1,maxPages:a,totalResults:t.totalResults})):this.setState({listData:[],page:1,maxPages:100,totalResults:null});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleLoadMore",value:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(this.state.searchTerm.current.value,t);case 2:"True"===(n=e.sent).Response&&(a=n.Search,this.state.listData=this.state.listData.concat(a),this.setState({page:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSelected",value:function(e){var t=this,n=document.getElementById("listDiv");n&&(n.style.width="50%"),S(e).then((function(n){t.setState({selectedItem:e,selectedData:n})}))}},{key:"addToNominatons",value:function(e){var t=localStorage.getItem("nominations");if(console.log(t),t){var n=JSON.parse(t);console.log(n),Object.keys(n).length<5&&(n[e.imdbID]=e,localStorage.setItem("nominations",JSON.stringify(n)))}else{var a={};a[e.imdbID]=e,localStorage.setItem("nominations",JSON.stringify(a))}this.forceUpdate()}},{key:"onClear",value:function(){localStorage.setItem("nominations",JSON.stringify({})),this.setState({showList:!0})}},{key:"removeSingle",value:function(e){console.log("removeSingle called!");var t=JSON.parse(localStorage.getItem("nominations"));delete t[e],localStorage.setItem("nominations",JSON.stringify(t)),this.setState({showList:!0})}},{key:"render",value:function(){var e,t,n=this,s=this.state.totalResults?Object(a.jsxs)(x.a,{children:[this.state.totalResults," results"]}):null,i=localStorage.getItem("nominations")||null,c=i?JSON.parse(i):null,r=!!c&&5===Object.keys(c).length,l=this.state.listData.length>0?this.state.listData.map((function(e){return Object(a.jsx)(I,{data:e,onSelected:n.onSelected,onNomination:n.addToNominatons,isNominated:!!c&&!!c[e.imdbID],isFull:r},e.imdbID)})):null,o=null==(null===(e=this.state.searchTerm)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.value)||""==this.state.searchTerm.current.value?Object(a.jsx)(Y,{}):null,d=Object.keys(c||{}).length>0||this.state.showList?Object(a.jsx)(J,{nominations:c,onClear:this.onClear,removeOne:this.removeSingle,setSelected:this.onSelected}):null,u=this.state.selectedData?Object(a.jsx)(L,{data:this.state.selectedData,onNomination:this.addToNominatons,isNominated:!!c&&!!c[this.state.selectedData.imdbID]}):null;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"listViewContainer",children:[Object(a.jsx)("br",{}),Object(a.jsxs)("div",{id:"listDiv",children:[Object(a.jsx)(v.a,{className:"searchBar",children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(f.a.Prepend,{children:Object(a.jsx)(f.a.Text,{children:Object(a.jsx)(N.a,{})})}),Object(a.jsx)(v.a.Control,{type:"search",ref:this.state.searchTerm,onChange:this.onSearchChange.bind(this),placeholder:"Search",className:"searchBar"})]})}),o,s,Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"list",children:Object(a.jsx)(R.a,{className:"scrollThing",pageStart:1,loadMore:this.handleLoadMore,hasMore:this.state.listData.length<this.state.totalResults,loader:Object(a.jsxs)("div",{className:"loader",children:[Object(a.jsx)(H.a,{animation:"border"}),Object(a.jsx)("h1",{children:" Loading ..."})]},0),useWindow:!1,threshold:600,children:l})})]}),Object(a.jsxs)("div",{className:"rightPanel",children:[d,u]})]}),Object(a.jsx)("a",{className:"github",href:"https://github.com/ericcorbu/omdb-frontend",children:"View on GitHub"}),Object(a.jsxs)(z.a,{className:"theToast",show:r,children:[Object(a.jsx)(z.a.Header,{children:"Congrats!"}),Object(a.jsx)(z.a.Body,{children:"You have selected 5 movies, completing your nomination list! Remove a movie or clear your list to continue editing your list."})]})]})}}]),n}(s.Component));var G=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(l.a,{className:"navbar",bg:"light",children:Object(a.jsx)(l.a.Brand,{children:"The Shoppies"})}),Object(a.jsx)(E,{})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(G,{})}),document.getElementById("root")),V()}},[[62,1,2]]]);
//# sourceMappingURL=main.2205f5e2.chunk.js.map